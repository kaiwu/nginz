daemon off;
error_log logs/error.log info;
pid logs/nginx.pid;

events {
    worker_connections 64;
}

http {
    access_log logs/access.log;

    server {
        listen 8888;

        # RESTful API endpoint for tables
        location /api/ {
            # Connection to mock PostgreSQL server
            pgrest_pass "host=127.0.0.1 port=15432 dbname=testdb user=postgres";
        }

        # RPC endpoint for stored procedures
        location /rpc/ {
            pgrest_pass "host=127.0.0.1 port=15432 dbname=testdb user=postgres";
        }

        # Health check endpoint
        location /health {
            return 200 "OK\n";
        }
    }
}
